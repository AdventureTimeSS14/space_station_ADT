# - type: entity
#   abstract: true
#   id: RMCBaseAttachableHolder
#   components:
#   - type: AttachableHolder
#   - type: ItemSizeChange
#   - type: ActivatableUI
#     verbText: rmc-verb-strip-attachables
#     verbOnly: true
#     key:
#       enum.AttachmentUI.StripKey
#   - type: UserInterface
#     interfaces:
#       enum.AttachmentUI.StripKey:
#         type: AttachmentStripBui
#       enum.AttachmentUI.ChooseSlotKey:
#         type: AttachmentChooseSlotBui

# - type: entity
#   abstract: true
#   id: RMCBaseMeleeWeapon

# - type: entity
#   abstract: true
#   parent: RMCBaseMeleeWeapon
#   id: CMBaseWeaponGun
#   components:
#   - type: Clothing
#     quickEquip: false
#   - type: UseDelay
#     delay: 0
#   - type: WieldDelay
#   - type: AltFireMelee
#   - type: MeleeWeapon
#     resetOnHandSelected: false
#     attackRate: 1
#     damage:
#       types:
#         Blunt: 5
#     soundHit:
#       collection: GenericHit
#   - type: Gun
#     meleeCooldownOnShoot: false
#     resetOnHandSelected: false

# - type: entity
#   parent: BaseBullet
#   id: RMCBaseBullet
#   components:
#   - type: Sprite
#     sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Projectiles/bullet_projectiles.rsi
#     layers:
#     - state: bullet
#       shader: unshaded


# - type: entity
#   abstract: true
#   parent: [ CMBaseWeaponGun, BaseItem, RMCBaseAttachableHolder ]
#   id: CMBaseWeaponRifle
#   components:
#   - type: Gun
#     shotsPerBurst: 3
#     selectedMode: Burst
#     availableModes:
#     - SemiAuto
#     - Burst
#   - type: RMCSelectiveFire
#     baseFireModes:
#     - SemiAuto
#     - Burst
#     recoilWielded: 1
#     recoilUnwielded: 4
#     scatterWielded: 10
#     scatterUnwielded: 20
#     baseFireRate: 1.429
#     burstScatterMult: 4
#     modifiers:
#       Burst:
#         fireDelay: 0.1665
#         maxScatterModifier: 10
#         useBurstScatterMult: true
#         unwieldedScatterMultiplier: 2
#         shotsToMaxScatter: 6
#       FullAuto:
#         maxScatterModifier: 13
#         useBurstScatterMult: true
#         unwieldedScatterMultiplier: 2
#         shotsToMaxScatter: 4
#   - type: Wieldable
#   - type: WieldableSpeedModifiers
#     baseWalk: 0.8
#     baseSprint: 0.69
#   - type: WieldDelay
#     baseDelay: 0.6
#   - type: Item
#     size: Large
#   - type: Clothing
#     sprite: Objects/Weapons/Guns/SMGs/atreides.rsi
#     slots:
#     - suitStorage
#     - Back
#   - type: AmmoCounter
#   - type: ContainerContainer
#     containers:
#       gun_magazine: !type:ContainerSlot
#       gun_chamber: !type:ContainerSlot
#   - type: StaticPrice
#     price: 500
#   - type: MagazineAmmoProvider
#     autoEject: true
#   - type: MagazineVisuals
#     magState: mag
#     steps: 1
#     zeroVisible: true
#   - type: Appearance
#   - type: Sprite
#     sprite: Objects/Weapons/Guns/SMGs/atreides.rsi
#     layers:
#     - state: base
#       map: ["enum.GunVisualLayers.Base"]
#     - state: mag-0
#       map: ["enum.GunVisualLayers.Mag"]

# - type: entity
#   id: CMMagazineRifleBase
#   name: "magazine (.20 rifle)"
#   parent: BaseMagazineRifle
#   components:
#   - type: BallisticAmmoProvider
#     proto: CartridgeRifle
#   - type: Sprite
#     layers:
#     - state: red
#       map: ["enum.GunVisualLayers.Base"]
#     - state: mag-1
#       map: ["enum.GunVisualLayers.Mag"]
#   - type: Tag
#     tags:
#     - CMMagazineRifle

# - type: entity
#   parent: BaseCartridge
#   id: CMBaseCartridgeRifle
#   name: cartridge
#   abstract: true
#   components:
#   - type: CartridgeAmmo
#     deleteOnSpawn: true
#   - type: Sprite
#     sprite: Objects/Weapons/Guns/Ammunition/Casings/ammo_casing.rsi
#     layers:
#     - state: base
#       map: ["enum.AmmoVisualLayers.Base"]

# - type: Tag
#   id: CMMagazineRifle
# - type: Tag
#   id: RMCAttachmentUnderbarrel
# - type: Tag
#   id: RMCAttachmentU1GrenadeLauncher
# - type: Tag
#   id: RMCAttachmentRail

# - type: entity
#   parent: BaseItem
#   abstract: true
#   id: RMCAttachableBase
#   components:
#   - type: Item
#     size: Small
#   - type: Attachable

# - type: entity
#   parent: RMCAttachableBase
#   abstract: true
#   id: RMCAttachableToggleableBase
#   components:
#   - type: AttachableToggleable
#   - type: UseDelay
#     delay: 0


# - type: entity
#   parent: [ RMCBaseMeleeWeapon, BaseKnife, RMCAttachableBase ]
#   id: RMCM5Bayonet
#   name: "M5 'Night Raider' bayonet"
#   description: The standard-issue bayonet of the Marines. You can slide this knife into your boots. # TODO RMC14 , or attach it to the end of a rifle.
#   components:
#   - type: Clothing
#     slots:
#     - mask
#     - pocket
#     - suitstorage
#     sprite: Objects/Weapons/Melee/kitchen_knife.rsi
#   - type: Tag
#     tags:
#     - RMCM5Bayonet
#     - Knife
#     - RMCAttachmentBarrel
#   - type: Sprite
#     sprite: Objects/Weapons/Melee/kitchen_knife.rsi
#     state: icon
#   - type: Item
#     sprite: Objects/Weapons/Melee/kitchen_knife.rsi
#     size: Small
#   - type: MeleeWeapon
#     wideAnimationRotation: -135
#     attackRate: 1
#     damage:
#       types:
#         Slash: 25
#   - type: DamageOtherOnHit
#     damage:
#       types:
#         Slash: 18
#   - type: DisarmMalus
#     malus: 0.225
#   - type: AttachableVisuals
#     rsi: Objects/Weapons/Melee/kitchen_knife.rsi
#     prefix: icon
#   - type: AttachableWeaponMeleeMods
#     modifiers:
#     - bonusDamage:
#         types:
#           Slash: 20
#     - decreaseDamage:
#         types:
#           Blunt: 5
#   - type: AttachableWeaponRangedMods
#     modifiers:
#     - conditions:
#         unwieldedOnly: true
#       accuracyAddMult: -0.05
#   - type: AttachablePrying

# - type: Tag
#   id: RMCAttachmentBarrel
# - type: Tag
#   id: RMCM5Bayonet
# - type: entity
#   abstract: true
#   parent: RMCAttachableBase
#   id: RMCBarrelAttachmentBase
#   components:
#   - type: Sprite
#     sprite: Objects/Weapons/Melee/kitchen_knife.rsi
#   - type: Tag
#     tags:
#     - RMCAttachmentBarrel

# # пример
# - type: entity
#   parent: CMBaseWeaponRifle
#   name: M54C assault rifle MK2
#   id: WeaponRifleM54C
#   description: The standard issue rifle of the Marines. Commonly carried by most combat personnel. Uses 10x24mm caseless ammunition.
#   components:
#   - type: ContainerContainer
#     containers:
#       gun_magazine: !type:ContainerSlot
#       gun_chamber: !type:ContainerSlot
#   - type: Gun
#     selectedMode: FullAuto
#     availableModes:
#     - SemiAuto
#     - Burst
#     - FullAuto
#   - type: RMCSelectiveFire
#     baseFireModes:
#     - SemiAuto
#     - Burst
#     - FullAuto
#     recoilUnwielded: 4
#     scatterWielded: 6
#     scatterUnwielded: 20
#     baseFireRate: 4
#     burstScatterMult: 1
#   - type: ItemSlots
#     slots:
#       gun_magazine:
#         name: Magazine
#         priority: 2
#         whitelist:
#           tags:
#           - CMMagazineRifle
#   - type: AttachableHolder
#     slots:
#       rmc-aslot-barrel:
#         whitelist:
#           tags:
#           - RMCM5Bayonet
#           - RMCAttachmentSuppressor
#       rmc-aslot-underbarrel:
#         whitelist:
#           tags:
#           - RMCAttachmentU1GrenadeLauncher
#       rmc-aslot-stock:
#         whitelist:
#           tags:
#           - RMCAttachmentM54CStockSolid
#       rmc-aslot-rail:
#         whitelist:
#             tags:
#             - SlavikScope
#             - RMCAttachmentMagneticHarness
#   - type: AttachableHolderVisuals
#     offsets:
#       rmc-aslot-barrel: 0.75, 0.00
#       rmc-aslot-underbarrel: 0.75, 0.00
#       rmc-aslot-stock: 0.75, 0.00
# # пример

# - type: entity
#   abstract: true
#   parent: RMCAttachableBase
#   id: RMCUnderAttachmentBase
#   components:
#   - type: Sprite
#     sprite: Objects/Weapons/Melee/kitchen_knife.rsi
#   - type: Tag
#     tags:
#     - RMCAttachmentUnderbarrel

# - type: entity
#   parent: [ RMCUnderAttachmentBase, RMCAttachableToggleableBase, BaseItem ]
#   id: RMCAttachmentU1GrenadeLauncher
#   name: U1 grenade launcher
#   description: A weapon-mounted, reloadable grenade launcher.
#   components:
#   - type: ContainerContainer
#     containers:
#       ballistic-ammo: !type:Container
#         ents: []
#   - type: RMCAmmoEject
#     containerID: ballistic-ammo
#   - type: AmmoCounter
#   - type: Gun
#     projectileSpeed: 20
#     resetOnHandSelected: false
#   - type: RMCSelectiveFire
#     baseFireRate: 0.417
#   - type: BallisticAmmoProvider
#     cycleable: false
#     whitelist:
#       tags:
#       - CartridgeRocket
#     capacity: 3
#   - type: UniqueAction
#   - type: Appearance
#   - type: AttachableToggleable
#     userOnly: true
#     attachedOnly: true
#     supercedeHolder: true
#     wieldedUseOnly: true
#     activatePopupText: attachable-popup-switch-to-generic
#     deactivatePopupText: attachable-popup-switch-from-generic
#     actionName: Switch to the U1 Grenade Launcher
#     actionDesc: Switch to using the underbarrel grenade launcher.
#   - type: Tag
#     tags:
#     - RMCAttachmentUnderbarrel
#     - RMCAttachmentU1GrenadeLauncher
#   - type: Sprite
#     sprite: Objects/Weapons/Melee/kitchen_knife.rsi
#     state: icon
#   - type: Item
#     sprite: Objects/Weapons/Melee/kitchen_knife.rsi
#     size: Small

# - type: entity
#   abstract: true
#   parent: RMCAttachableBase
#   id: RMCRailAttachmentBase
#   components:
#   - type: Sprite
#     sprite: _RMC14/Objects/Weapons/Guns/Attachments/rail.rsi
#   - type: Tag
#     tags:
#     - RMCAttachmentRail

# - type: entity
#   abstract: true
#   parent: [ RMCRailAttachmentBase, RMCAttachableToggleableBase ]
#   id: RMCAttachmentScopeBase
#   components:
#   - type: AttachableToggleable
#     needHand: true
#     heldOnlyActivate: true
#     userOnly: true
#     doInterrupt: true
#     attachedOnly: true
#     breakOnMove: true
#     breakOnRotate: true
#     wieldedOnly: true
#     useDelay: 0.5
#     showTogglePopup: false
#     icon:
#       sprite: _RMC14/Objects/Weapons/Guns/Attachments/rail.rsi
#       state: sniperscope
#     actionName: Look through Scope
#     actionDesc: Scope in. If you're seeing this, someone forgot to set the description properly.
#   - type: AttachableToggleableSimpleActivate
#   - type: Scope
#     requireWielding: true
#     attachment: true
#     useInHand: true
#     zoomLevels:
#     - zoom: 1
#       offset: 15
#       allowMovement: false
#       doAfter: 0

# - type: Tag
#   id: SlavikScope

# - type: entity
#   parent: RMCAttachmentScopeBase
#   id: RMCAttachmentSlavicScope
#   name: 4x telescopic scope
#   description: Oppa! How did you get this off glorious Stalin weapon? Blyat, put back on and do job tovarish. Yankee is not shoot self no?
#   components:
#   - type: Sprite
#     state: slavicscope
#   - type: Tag
#     tags:
#     - RMCAttachmentRail
#     - SlavikScope
#   - type: AttachableVisuals
#   - type: AttachableToggleable
#     actionName: Look through the S8 4x Telescopic Scope
#     actionDesc: An AEGIS S8 telescopic eye piece. Fixed at 4x zoom.
#   - type: AttachableToggleableSimpleActivate
#   - type: Scope
#     zoomLevels:
#     - zoom: 1.6
#       offset: 14
#       allowMovement: false
#       doAfter: 0
#   - type: AttachableSpeedMods
#     modifiers:
#     - conditions:
#         wieldedOnly: true
#       walk: -0.23
#       sprint: -0.35
#   - type: AttachableWieldDelayMods
#     modifiers:
#     - delay: 0.4
#   - type: AttachableWeaponRangedMods
#     modifiers:
#     - fireDelayFlat: 0.1
#     - conditions:
#         activeOnly: true
#       fireDelayFlat: 0.25
#       accuracyAddMult: 0.35
#       damageFalloffAddMult: -0.4
#     - conditions:
#         wieldedOnly: true
#         inactiveOnly: true
#       accuracyAddMult: -0.05
#     - conditions:
#         unwieldedOnly: true
#       accuracyMovementPenaltyAddMult: 2

# - type: Tag
#   id: RMCAttachmentSuppressor

# - type: entity
#   parent: RMCBarrelAttachmentBase
#   id: RMCAttachmentSuppressor
#   name: suppressor
#   description: "A small tube with exhaust ports to expel noise and gas.
#     Does not completely silence a weapon, but does make it much quieter at the cost of slightly reduced damage."
#   components:
#   - type: Sprite
#     state: suppressor
#   - type: Tag
#     tags:
#     - RMCAttachmentBarrel
#     - RMCAttachmentSuppressor
#   - type: AttachableVisuals
#     prefix: suppressor2
#   - type: AttachableSilencer
#     sound:
#       collection: sparks
#       params:
#         maxDistance: 6
#   - type: AttachableWeaponRangedMods
#     modifiers:
#     - damageFalloffAddMult: 0.1

# - type: entity
#   abstract: true
#   parent: RMCAttachableBase
#   id: RMCStockAttachmentBase
#   components:
#   - type: Sprite
#     sprite: _RMC14/Objects/Weapons/Guns/Attachments/stock.rsi
#   - type: Tag
#     tags:
#     - RMCAttachmentStock
#   - type: AttachableWieldDelayMods
#     modifiers:
#     - delay: 0.2
#   - type: AttachableSizeMods
#     modifiers:
#     - size: 2
#   - type: AttachableWeaponMeleeMods
#     modifiers:
#     - bonusDamage:
#         types:
#           Blunt: 5

# - type: entity
#   parent: RMCStockAttachmentBase
#   id: RMCAttachmentM54CStockSolid
#   name: M54C solid stock
#   description: A rare stock distributed in small numbers to UNMC forces. Compatible with the M54C, this stock reduces recoil and scatter, but at a reduction to handling and agility. Also enhances the thwacking of things with the stock-end of the rifle.
#   components:
#   - type: Sprite
#     sprite: _RMC14/Objects/Weapons/Guns/Attachments/rmc_stock.rsi
#     state: m54c-solid
#   - type: Tag
#     tags:
#     - RMCAttachmentStock
#     - RMCAttachmentM54CStockSolid
#   - type: AttachableVisuals
#   - type: AttachableSpeedMods
#     modifiers:
#     - conditions:
#         wieldedOnly: true
#       walk: -0.059
#       sprint: -0.101
#   - type: AttachableWieldDelayMods
#     modifiers:
#     - delay: 0.4
#   - type: AttachableWeaponMeleeMods
#     modifiers:
#     - bonusDamage:
#         types:
#           Blunt: 10
#   - type: AttachableWeaponRangedMods
#     modifiers:
#     - conditions:
#         wieldedOnly: true
#       accuracyAddMult: 0.25
#       recoilFlat: -3
#       scatterFlat: -8
#     - conditions:
#         unwieldedOnly: true
#       accuracyMovementPenaltyAddMult: -2
#       accuracyAddMult: -0.15
#       recoilFlat: 2
#       scatterFlat: 6

# - type: Tag
#   id: RMCAttachmentM54CStockSolid

# - type: Tag
#   id: RMCAttachmentStock

# - type: Tag
#   id: RMCAttachmentMagneticHarness

# - type: entity
#   parent: RMCRailAttachmentBase
#   id: RMCAttachmentMagneticHarness
#   name: magnetic harness
#   description: A magnetically attached harness kit that attaches to the rail mount of a weapon. When dropped, the weapon will sling to any set of Marine armor.
#   components:
#   - type: Sprite
#     state: magnetic
#   - type: Tag
#     tags:
#     - RMCAttachmentRail
#     - RMCAttachmentMagneticHarness
#   - type: AttachableMagnetic
#   - type: AttachableVisuals
#   - type: AttachableWeaponRangedMods
#     modifiers:
#     - accuracyAddMult: -0.05
