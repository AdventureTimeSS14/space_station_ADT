- type: inventoryTemplate
  id: teddyBear
  slots:
  - name: pocket1
    slotTexture: pocket
    fullTextureName: template_small
    slotFlags: POCKET
    slotGroup: MainHotbar
    stripTime: 3
    uiWindowPos: 0,3
    strippingWindowPos: 0,4
    displayName: Pocket 1
    stripHidden: true
  - name: pocket2
    slotTexture: pocket
    fullTextureName: template_small
    slotFlags: POCKET
    slotGroup: MainHotbar
    stripTime: 3
    uiWindowPos: 1,3
    strippingWindowPos: 1,4
    displayName: Pocket 2
    stripHidden: true

- type: body
  id: ADTTeddyBear
  name: "teddy bear"
  root: torso
  slots:
    torso:
      part: TorsoAnimal
      connections:
      - right_hand
      - left_hand
    right_hand:
      part: RightHandHuman
    left_hand:
      part: LeftHandHuman

- type: entity
  id: ADTActionTeddySpawnGun
  name: Достать пулемёт
  description: Достаёт из себя пулемёт L6 SAW.
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    useDelay: 60
    itemIconStyle: BigAction
    icon:
      sprite: Objects/Weapons/Guns/LMGs/l6.rsi
      state: icon
  - type: InstantAction
    event: !type:TeddyBearSpawnGunEvent

- type: entity
  id: ADTActionTeddyExplode
  name: Самоподрыв!
  description: Активирует внутреннюю бомбу. Прощайте!
  categories: [ HideSpawnMenu ]
  components:
  - type: ConfirmableAction
    popup: teddy-bear-explode-confirm
  - type: Action
    itemIconStyle: BigAction
    icon:
      sprite: Objects/Weapons/Grenades/grenade.rsi
      state: icon
  - type: InstantAction
    event: !type:TeddyBearExplodeEvent

- type: entity
  name: Странный плюшевый медведь
  parent: [BaseMob, MobDamageable]
  id: ADTMobTeddyBear
  description: Милый двухцветный плюшевый медведь, но его улыбка почему-то кажется зловещей...
  components:
  - type: Sprite
    drawdepth: SmallMobs
    sprite: ADT/Mobs/TeddyBear(Monocuma)/teddy_bear.rsi
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      state: monocuma
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.25
        density: 20
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: MobThresholds
    thresholds:
      0: Alive
      40: Critical
      60: Dead
  - type: DamageStateVisuals
    states:
      Alive:
        Base: monocuma
      Critical:
        Base: monocuma
      Dead:
        Base: monocuma
  - type: Body
    prototype: ADTTeddyBear
  - type: Hands
    showInHands: true
    leftHandDisplacement:
      sizeMaps:
        32:
          sprite: ADT/Mobs/TeddyBear(Monocuma)/teddy_bear_displacement.rsi
          state: inHand
    rightHandDisplacement:
      sizeMaps:
        32:
          sprite: ADT/Mobs/TeddyBear(Monocuma)/teddy_bear_displacement.rsi
          state: inHand
  - type: ComplexInteraction
  - type: MovementSpeedModifier
    baseWalkSpeed: 2.0
    baseSprintSpeed: 3.5
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepCarpet
  - type: MeleeWeapon
    soundHit:
      collection: AlienClaw
    angle: 30
    animation: WeaponArcClaw
    damage:
      types:
        Slash: 6
        Piercing: 2
  - type: CombatMode
  - type: Tag
    tags:
    - DoorBumpOpener
    - CannotSuicide
    - FootstepSound
  - type: InteractionPopup
    successChance: 0.9
    interactSuccessString: petting-success-teddy
    interactFailureString: petting-failure-teddy
  - type: Butcherable
    spawned:
    - id: MaterialCloth1
      amount: 2
  - type: Puller
    needsHands: true
  - type: Inventory
    templateId: teddyBear
  - type: InventorySlots
  - type: TeddyBear
    weaponPrototype: WeaponLightMachineGunL6
  - type: ActionGrant
    actions:
    - ADTActionTeddySpawnGun
    - ADTActionTeddyExplode
