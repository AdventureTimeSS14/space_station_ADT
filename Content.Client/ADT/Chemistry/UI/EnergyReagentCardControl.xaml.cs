using Content.Shared.ADT.Chemistry;
using Robust.Client.AutoGenerated;
using Robust.Client.Graphics;
using Robust.Client.UserInterface;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.ADT.Chemistry.UI;

[GenerateTypedNameReferences]
public sealed partial class EnergyReagentCardControl : Control
{
    public string ReagentId { get; }
    public Action<string>? OnPressed;

    public EnergyReagentCardControl(EnergyReagentInventoryItem item)
    {
        RobustXamlLoader.Load(this);

        ReagentId = item.ReagentId;
        ColorPanel.PanelOverride = new StyleBoxFlat { BackgroundColor = item.ReagentColor };
        ReagentNameLabel.Text = item.ReagentLabel;
        FillLabel.Text = $"{item.PowerCostPerUnit}W/u";

        MainButton.OnPressed += args => OnPressed?.Invoke(ReagentId);
    }
}
