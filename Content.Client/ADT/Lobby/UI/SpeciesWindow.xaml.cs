using System.Linq;
using System.Numerics;
using Content.Client.Corvax.Sponsors;
using Content.Client.UserInterface.Controls;
using Content.Shared.Humanoid.Prototypes;
using Content.Shared.Preferences;
using Content.Shared.Preferences.Loadouts;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;
using Robust.Shared.Player;
using Robust.Shared.Prototypes;
using Robust.Shared.Random;

namespace Content.Client.ADT.Lobby.UI;

[GenerateTypedNameReferences]
public sealed partial class SpeciesWindow : FancyWindow
{
    public event Action<ProtoId<SpeciesPrototype>>? ChooseAction;

    public HumanoidCharacterProfile Profile;

    public SpeciesWindow(HumanoidCharacterProfile profile, IDependencyCollection collection)
    {
        RobustXamlLoader.Load(this);
        Profile = profile;
        var protoManager = collection.Resolve<IPrototypeManager>();
        SelectCategory(protoManager.Index(profile.Species).Category, protoManager);
    }

    private void SelectCategory(SpeciesCategory category, IPrototypeManager protoMan)
    {
        switch (category)
        {
            case SpeciesCategory.Classic:
                {
                    Classic.SetClickPressed(true);
                    ADT.SetClickPressed(false);
                    break;
                }
            case SpeciesCategory.ADT:
                {
                    Classic.SetClickPressed(false);
                    ADT.SetClickPressed(true);
                    break;
                }
        }
        UserInterfaceManager.ClickSound();
        foreach (var item in protoMan.EnumeratePrototypes<SpeciesPrototype>().Where(x => x.Category == category))
        {

        }

    }
}
